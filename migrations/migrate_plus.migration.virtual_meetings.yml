langcode: en
status: true
dependencies:
  enforced:
    module:
      - zoom_sync
id: virtual_meeting_synchronization
migration_tags: {}
migration_group: zoom_sync
label: 'Create virtual meeting from Zoom API'
source:
  plugin: zoom_sync_meeting_source
process:
  langcode:
    plugin: default_value
    source: language
    default_value: en
  status:
    plugin: default_value
    default_value: 1
  uid:
    plugin: default_value
    default_value: 1
  title: topic
  body/value: description
  body/format:
    plugin: default_value
    default_value: full_html
  field_vy_permission:
    plugin: default_value
    default_value: virtual_y,virtual_y_premium
  field_vm_link/uri: vm_link_uri
  field_ls_category:
    -
      plugin: migration_lookup
      migration: virtual_y_gc_category
      source: category
  field_ls_level:
    -
      plugin: migration_lookup
      migration: virtual_y_gc_level
      source: level
  recur_type:
    plugin: get
    source: r_type
  daily_recurring_date:
    plugin: sub_process
    source: daily_rd
    process:
      value:
        -
          plugin: default_value
          default_value: value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
      end_value:
        -
          plugin: default_value
          default_value: end_value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
      time: time
      duration: duration
  weekly_recurring_date:
    plugin: sub_process
    source: weekly_rd
    process:
      value:
        -
          plugin: default_value
          default_value: value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
      end_value:
        -
          plugin: default_value
          default_value: end_value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
      time: time
      duration: duration
      days: days
  monthly_recurring_date:
    plugin: sub_process
    source: monthly_rd
    process:
      value:
        -
          plugin: default_value
          default_value: value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
      end_value:
        -
          plugin: default_value
          default_value: end_value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
      time: time
      duration: duration
      type: type
      day_occurrence: day_occurrence
      day_of_month: day_of_month
  custom_date:
    plugin: sub_process
    source: custom_date
    process:
      value:
        -
          plugin: default_value
          default_value: value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
      end_value:
        -
          plugin: default_value
          default_value: end_value
        -
          plugin: callback
          callable: strtotime
        -
          plugin: date_timestamp
          to_format: 'Y-m-d\TH:i:s'
destination:
  plugin: 'entity:eventseries'
  default_bundle: virtual_meeting
migration_dependencies:
  required: {}
  optional: {}
